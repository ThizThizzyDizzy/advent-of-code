package com.thizthizzydizzy.aoc2021;
public class Day5 implements Day{
    @Override
    public void run(){
        String input = "657,934 -> 657,926\n" +
"130,34 -> 570,474\n" +
"478,716 -> 226,464\n" +
"861,110 -> 861,167\n" +
"448,831 -> 370,831\n" +
"75,738 -> 390,738\n" +
"26,880 -> 864,42\n" +
"965,658 -> 527,220\n" +
"208,381 -> 80,381\n" +
"523,475 -> 807,475\n" +
"219,69 -> 219,434\n" +
"793,538 -> 534,797\n" +
"754,602 -> 754,148\n" +
"443,327 -> 443,611\n" +
"606,395 -> 546,395\n" +
"980,56 -> 51,985\n" +
"619,325 -> 354,325\n" +
"342,123 -> 819,600\n" +
"290,533 -> 374,533\n" +
"598,77 -> 598,75\n" +
"605,302 -> 605,636\n" +
"97,981 -> 692,386\n" +
"278,779 -> 278,800\n" +
"661,377 -> 661,10\n" +
"726,108 -> 518,316\n" +
"271,883 -> 271,50\n" +
"382,271 -> 606,271\n" +
"963,358 -> 891,286\n" +
"496,880 -> 496,855\n" +
"211,142 -> 211,49\n" +
"841,866 -> 260,285\n" +
"841,849 -> 173,181\n" +
"927,326 -> 391,862\n" +
"396,558 -> 459,558\n" +
"753,183 -> 953,183\n" +
"941,698 -> 941,407\n" +
"347,612 -> 347,476\n" +
"18,340 -> 18,612\n" +
"140,299 -> 797,956\n" +
"714,907 -> 714,228\n" +
"966,155 -> 194,927\n" +
"769,674 -> 712,674\n" +
"644,675 -> 948,979\n" +
"703,872 -> 812,763\n" +
"26,629 -> 120,535\n" +
"844,738 -> 844,253\n" +
"798,133 -> 798,795\n" +
"27,318 -> 288,57\n" +
"38,545 -> 872,545\n" +
"827,351 -> 195,983\n" +
"818,45 -> 21,842\n" +
"257,559 -> 626,928\n" +
"145,925 -> 886,184\n" +
"83,618 -> 590,111\n" +
"326,243 -> 53,243\n" +
"489,278 -> 526,278\n" +
"783,693 -> 783,525\n" +
"495,636 -> 495,585\n" +
"374,716 -> 215,557\n" +
"839,536 -> 839,966\n" +
"850,468 -> 955,468\n" +
"55,799 -> 55,447\n" +
"472,722 -> 296,898\n" +
"390,731 -> 120,461\n" +
"405,493 -> 208,296\n" +
"807,42 -> 56,793\n" +
"476,327 -> 655,327\n" +
"24,965 -> 967,22\n" +
"776,211 -> 776,850\n" +
"489,20 -> 822,20\n" +
"630,740 -> 871,499\n" +
"743,493 -> 283,953\n" +
"62,429 -> 62,720\n" +
"806,270 -> 806,332\n" +
"550,154 -> 107,597\n" +
"71,713 -> 533,251\n" +
"620,575 -> 620,156\n" +
"726,829 -> 143,246\n" +
"944,553 -> 468,553\n" +
"185,582 -> 185,468\n" +
"845,266 -> 212,899\n" +
"654,97 -> 265,486\n" +
"726,609 -> 726,147\n" +
"631,76 -> 860,76\n" +
"835,24 -> 928,24\n" +
"712,719 -> 74,81\n" +
"616,478 -> 616,117\n" +
"903,226 -> 903,577\n" +
"440,699 -> 136,395\n" +
"215,705 -> 890,30\n" +
"20,24 -> 981,985\n" +
"102,144 -> 850,892\n" +
"695,967 -> 582,967\n" +
"219,284 -> 219,388\n" +
"359,833 -> 665,833\n" +
"389,55 -> 305,55\n" +
"59,32 -> 957,930\n" +
"815,198 -> 64,949\n" +
"699,540 -> 717,558\n" +
"215,682 -> 182,682\n" +
"805,489 -> 328,489\n" +
"43,546 -> 578,546\n" +
"489,181 -> 489,363\n" +
"266,391 -> 266,582\n" +
"863,368 -> 448,368\n" +
"83,236 -> 83,487\n" +
"874,875 -> 874,413\n" +
"799,90 -> 799,802\n" +
"253,29 -> 253,905\n" +
"136,446 -> 435,745\n" +
"830,534 -> 550,534\n" +
"183,785 -> 107,785\n" +
"81,517 -> 159,517\n" +
"359,941 -> 359,560\n" +
"71,546 -> 948,546\n" +
"596,811 -> 596,791\n" +
"255,960 -> 255,159\n" +
"788,15 -> 788,682\n" +
"240,55 -> 240,244\n" +
"51,423 -> 137,423\n" +
"504,418 -> 809,723\n" +
"131,842 -> 914,59\n" +
"727,790 -> 82,145\n" +
"281,509 -> 841,509\n" +
"797,807 -> 834,807\n" +
"333,499 -> 790,499\n" +
"215,328 -> 215,139\n" +
"500,898 -> 500,862\n" +
"75,217 -> 777,919\n" +
"17,264 -> 17,446\n" +
"852,755 -> 150,755\n" +
"865,186 -> 385,186\n" +
"158,192 -> 158,733\n" +
"196,261 -> 196,128\n" +
"989,960 -> 131,102\n" +
"807,393 -> 807,153\n" +
"507,579 -> 507,764\n" +
"468,76 -> 535,76\n" +
"381,357 -> 659,357\n" +
"794,277 -> 749,277\n" +
"51,152 -> 546,647\n" +
"797,959 -> 458,959\n" +
"82,156 -> 967,156\n" +
"261,624 -> 460,624\n" +
"597,53 -> 197,53\n" +
"153,507 -> 411,765\n" +
"305,717 -> 768,717\n" +
"344,954 -> 344,217\n" +
"194,432 -> 545,432\n" +
"346,46 -> 557,46\n" +
"685,599 -> 685,312\n" +
"49,719 -> 49,631\n" +
"499,668 -> 304,863\n" +
"262,405 -> 554,405\n" +
"87,64 -> 295,64\n" +
"859,675 -> 74,675\n" +
"663,776 -> 99,212\n" +
"232,189 -> 232,904\n" +
"777,276 -> 703,276\n" +
"704,492 -> 86,492\n" +
"142,736 -> 514,364\n" +
"418,611 -> 224,417\n" +
"602,571 -> 602,424\n" +
"152,603 -> 248,603\n" +
"915,673 -> 143,673\n" +
"538,32 -> 128,32\n" +
"975,885 -> 975,344\n" +
"870,511 -> 870,756\n" +
"330,798 -> 46,798\n" +
"440,195 -> 587,195\n" +
"739,237 -> 568,66\n" +
"54,838 -> 196,980\n" +
"370,556 -> 47,556\n" +
"124,575 -> 748,575\n" +
"261,283 -> 880,902\n" +
"784,91 -> 426,449\n" +
"764,670 -> 148,670\n" +
"32,51 -> 967,986\n" +
"807,906 -> 10,906\n" +
"470,488 -> 579,597\n" +
"274,649 -> 285,649\n" +
"221,540 -> 221,94\n" +
"914,957 -> 914,510\n" +
"879,825 -> 145,91\n" +
"438,833 -> 438,775\n" +
"191,844 -> 911,124\n" +
"145,763 -> 595,763\n" +
"504,81 -> 622,199\n" +
"834,206 -> 834,704\n" +
"908,308 -> 815,308\n" +
"929,567 -> 929,322\n" +
"805,50 -> 620,235\n" +
"36,409 -> 133,312\n" +
"345,375 -> 19,701\n" +
"468,948 -> 468,108\n" +
"109,547 -> 446,547\n" +
"929,916 -> 69,56\n" +
"927,857 -> 318,248\n" +
"833,948 -> 833,61\n" +
"559,787 -> 559,982\n" +
"293,825 -> 293,775\n" +
"508,744 -> 545,744\n" +
"827,713 -> 753,639\n" +
"88,775 -> 555,775\n" +
"523,812 -> 684,812\n" +
"307,142 -> 307,265\n" +
"636,40 -> 355,321\n" +
"891,875 -> 891,25\n" +
"301,423 -> 712,12\n" +
"922,187 -> 219,890\n" +
"45,447 -> 230,262\n" +
"114,568 -> 233,687\n" +
"573,398 -> 677,398\n" +
"334,101 -> 324,101\n" +
"957,277 -> 957,652\n" +
"943,834 -> 610,834\n" +
"523,632 -> 523,379\n" +
"958,361 -> 90,361\n" +
"408,824 -> 380,824\n" +
"647,314 -> 647,449\n" +
"747,83 -> 59,83\n" +
"776,104 -> 937,104\n" +
"16,984 -> 989,11\n" +
"362,581 -> 362,226\n" +
"72,962 -> 940,94\n" +
"319,877 -> 319,122\n" +
"310,206 -> 986,882\n" +
"794,877 -> 267,877\n" +
"855,58 -> 976,58\n" +
"699,971 -> 598,971\n" +
"162,556 -> 162,440\n" +
"494,859 -> 494,255\n" +
"794,210 -> 142,862\n" +
"275,510 -> 548,510\n" +
"739,592 -> 739,793\n" +
"376,985 -> 376,990\n" +
"755,264 -> 280,739\n" +
"187,34 -> 187,688\n" +
"770,827 -> 770,548\n" +
"10,68 -> 913,971\n" +
"571,427 -> 571,944\n" +
"153,211 -> 153,560\n" +
"976,972 -> 55,51\n" +
"103,611 -> 674,40\n" +
"95,972 -> 924,143\n" +
"929,94 -> 38,985\n" +
"777,330 -> 60,330\n" +
"312,430 -> 312,326\n" +
"549,433 -> 269,433\n" +
"477,267 -> 477,403\n" +
"598,375 -> 19,375\n" +
"512,799 -> 512,831\n" +
"348,700 -> 348,43\n" +
"165,97 -> 63,199\n" +
"38,835 -> 38,828\n" +
"282,334 -> 282,909\n" +
"14,891 -> 390,515\n" +
"930,657 -> 334,61\n" +
"630,341 -> 630,85\n" +
"671,464 -> 319,112\n" +
"949,340 -> 894,285\n" +
"663,916 -> 245,916\n" +
"114,395 -> 286,223\n" +
"335,804 -> 529,804\n" +
"567,338 -> 14,891\n" +
"623,705 -> 379,949\n" +
"82,864 -> 545,401\n" +
"932,128 -> 932,134\n" +
"291,294 -> 291,101\n" +
"739,765 -> 739,757\n" +
"460,94 -> 892,94\n" +
"375,673 -> 367,681\n" +
"81,831 -> 90,831\n" +
"890,402 -> 890,138\n" +
"775,547 -> 790,547\n" +
"49,927 -> 966,10\n" +
"23,116 -> 257,116\n" +
"923,75 -> 18,980\n" +
"63,986 -> 687,362\n" +
"369,844 -> 357,844\n" +
"790,188 -> 644,188\n" +
"557,282 -> 557,669\n" +
"861,173 -> 390,644\n" +
"480,529 -> 893,529\n" +
"32,960 -> 830,162\n" +
"368,725 -> 368,40\n" +
"502,600 -> 701,600\n" +
"63,977 -> 873,167\n" +
"463,518 -> 788,193\n" +
"738,406 -> 324,406\n" +
"162,931 -> 822,931\n" +
"377,487 -> 707,817\n" +
"610,319 -> 901,319\n" +
"586,658 -> 690,658\n" +
"25,288 -> 53,288\n" +
"760,602 -> 760,628\n" +
"294,62 -> 951,62\n" +
"222,773 -> 661,334\n" +
"151,483 -> 646,483\n" +
"272,852 -> 317,852\n" +
"557,906 -> 503,960\n" +
"736,445 -> 736,703\n" +
"241,376 -> 241,692\n" +
"835,41 -> 835,369\n" +
"987,743 -> 987,210\n" +
"42,700 -> 42,244\n" +
"646,136 -> 646,440\n" +
"544,751 -> 404,751\n" +
"295,651 -> 295,805\n" +
"687,878 -> 113,878\n" +
"290,142 -> 604,142\n" +
"579,920 -> 579,807\n" +
"12,985 -> 987,10\n" +
"919,940 -> 919,808\n" +
"770,143 -> 770,832\n" +
"114,76 -> 962,76\n" +
"876,882 -> 428,434\n" +
"861,139 -> 861,320\n" +
"888,59 -> 888,39\n" +
"629,823 -> 707,823\n" +
"296,598 -> 296,305\n" +
"61,54 -> 578,54\n" +
"864,58 -> 253,58\n" +
"71,861 -> 306,861\n" +
"682,181 -> 326,537\n" +
"307,418 -> 307,910\n" +
"810,251 -> 810,431\n" +
"151,836 -> 602,385\n" +
"954,987 -> 243,276\n" +
"724,272 -> 350,646\n" +
"134,295 -> 434,295\n" +
"178,235 -> 802,859\n" +
"832,688 -> 832,573\n" +
"165,334 -> 165,378\n" +
"816,26 -> 114,728\n" +
"668,192 -> 540,192\n" +
"730,341 -> 969,341\n" +
"951,169 -> 286,834\n" +
"647,115 -> 886,115\n" +
"664,288 -> 507,131\n" +
"609,362 -> 609,295\n" +
"747,479 -> 287,19\n" +
"350,967 -> 350,725\n" +
"117,383 -> 311,383\n" +
"871,124 -> 292,124\n" +
"654,271 -> 547,271\n" +
"525,773 -> 345,953\n" +
"401,670 -> 610,670\n" +
"930,196 -> 301,825\n" +
"336,37 -> 961,662\n" +
"714,212 -> 714,667\n" +
"454,848 -> 454,107\n" +
"587,390 -> 587,577\n" +
"530,437 -> 542,437\n" +
"304,229 -> 517,229\n" +
"340,571 -> 766,571\n" +
"727,941 -> 138,352\n" +
"831,325 -> 11,325\n" +
"241,294 -> 403,456\n" +
"788,658 -> 788,126\n" +
"337,360 -> 337,589\n" +
"799,402 -> 342,402\n" +
"530,820 -> 530,319\n" +
"982,27 -> 20,989\n" +
"923,936 -> 923,721\n" +
"581,395 -> 64,912\n" +
"61,509 -> 61,827\n" +
"989,580 -> 610,580\n" +
"477,592 -> 219,592\n" +
"296,775 -> 296,58\n" +
"204,12 -> 204,457\n" +
"190,171 -> 190,673\n" +
"939,200 -> 939,457\n" +
"472,282 -> 472,631\n" +
"983,331 -> 734,331\n" +
"365,609 -> 365,817\n" +
"640,698 -> 145,698\n" +
"103,618 -> 549,618\n" +
"454,319 -> 454,346\n" +
"650,815 -> 381,546\n" +
"624,603 -> 507,603\n" +
"966,445 -> 723,445\n" +
"763,129 -> 763,784\n" +
"695,145 -> 695,511\n" +
"498,84 -> 435,147\n" +
"188,716 -> 967,716\n" +
"810,446 -> 810,924\n" +
"731,483 -> 731,51\n" +
"307,783 -> 307,533\n" +
"15,956 -> 956,15\n" +
"192,210 -> 882,210\n" +
"303,173 -> 38,438\n" +
"769,952 -> 769,863\n" +
"135,781 -> 405,781\n" +
"494,436 -> 494,892\n" +
"705,394 -> 714,394\n" +
"164,37 -> 164,633\n" +
"813,232 -> 813,620\n" +
"227,906 -> 222,906\n" +
"542,432 -> 414,432\n" +
"549,858 -> 88,397\n" +
"200,101 -> 958,859\n" +
"235,565 -> 469,331\n" +
"492,871 -> 503,882\n" +
"704,398 -> 869,563\n" +
"450,736 -> 746,736\n" +
"420,706 -> 420,635\n" +
"717,493 -> 686,524\n" +
"187,554 -> 717,24\n" +
"31,851 -> 315,851\n" +
"800,230 -> 466,230\n" +
"226,324 -> 226,614\n" +
"937,927 -> 937,798\n" +
"143,26 -> 534,417\n" +
"952,344 -> 12,344\n" +
"181,361 -> 782,361\n" +
"925,906 -> 415,396\n" +
"685,944 -> 470,944\n" +
"200,627 -> 290,627\n" +
"728,285 -> 728,326\n" +
"271,864 -> 271,34\n" +
"802,558 -> 207,558\n" +
"963,26 -> 84,905\n" +
"504,60 -> 529,60\n" +
"840,292 -> 180,292\n" +
"914,272 -> 914,330\n" +
"82,107 -> 925,950\n" +
"33,245 -> 33,134\n" +
"463,663 -> 463,82\n" +
"27,305 -> 27,675\n" +
"276,894 -> 891,279\n" +
"746,325 -> 746,948\n" +
"249,657 -> 341,749\n" +
"530,848 -> 28,346\n" +
"798,617 -> 798,609\n" +
"119,767 -> 312,767\n" +
"80,18 -> 674,18\n" +
"723,374 -> 583,374\n" +
"582,985 -> 239,642\n" +
"217,765 -> 217,395\n" +
"811,159 -> 609,159\n" +
"689,896 -> 501,896\n" +
"562,881 -> 562,96\n" +
"244,621 -> 629,621\n" +
"277,379 -> 277,287\n" +
"856,153 -> 20,153\n" +
"518,228 -> 518,898\n" +
"230,789 -> 243,789\n" +
"534,335 -> 534,592\n" +
"240,790 -> 413,617\n" +
"768,615 -> 768,560\n" +
"773,101 -> 912,101\n" +
"252,571 -> 767,56\n" +
"370,595 -> 681,906\n" +
"565,176 -> 565,318\n" +
"750,465 -> 750,724\n" +
"979,130 -> 120,989\n" +
"160,153 -> 160,785\n" +
"610,222 -> 610,191\n" +
"873,124 -> 130,867\n" +
"519,593 -> 519,32\n" +
"525,947 -> 525,562\n" +
"50,292 -> 291,533\n" +
"558,927 -> 960,525\n" +
"536,694 -> 249,981\n" +
"954,896 -> 277,896\n" +
"732,202 -> 732,288\n" +
"447,989 -> 541,895\n" +
"890,754 -> 367,231\n" +
"368,89 -> 564,285\n" +
"588,100 -> 588,156\n" +
"282,313 -> 943,974\n" +
"16,792 -> 495,792\n" +
"111,591 -> 111,493\n" +
"57,713 -> 685,85\n" +
"676,632 -> 676,575\n" +
"560,708 -> 560,602\n" +
"489,288 -> 489,404\n" +
"904,515 -> 443,54\n" +
"70,977 -> 985,62\n" +
"11,119 -> 11,403\n" +
"215,859 -> 937,137\n" +
"78,469 -> 110,437\n" +
"747,605 -> 747,369\n" +
"847,598 -> 847,299\n" +
"742,695 -> 159,112\n" +
"986,370 -> 986,460\n" +
"631,900 -> 771,760\n" +
"228,406 -> 683,861\n" +
"189,639 -> 61,639\n" +
"221,650 -> 820,650\n" +
"558,569 -> 834,845\n" +
"655,533 -> 558,630\n" +
"967,921 -> 967,169\n" +
"230,308 -> 429,308\n" +
"873,762 -> 873,528\n" +
"412,151 -> 412,538\n" +
"881,587 -> 881,21\n" +
"941,45 -> 26,960\n" +
"377,126 -> 700,126";
        System.out.println("Part one");
        int[][] grid = new int[1000][1000];
        for(String line : input.split("\n")){
            String[] splt = line.split(" \\-\\> ");
            String[] from = splt[0].split(",");
            String[] to = splt[1].split(",");
            int x1 = Integer.parseInt(from[0]);
            int y1 = Integer.parseInt(from[1]);
            int x2 = Integer.parseInt(to[0]);
            int y2 = Integer.parseInt(to[1]);
            if(x1==x2&&y1==y2){
                grid[x1][y1]++;
            }else if(x1==x2){
                for(int y = Math.min(y1,y2); y<=Math.max(y1,y2); y++){
                    grid[x1][y]++;
                }
            }else if(y1==y2){
                for(int x = Math.min(x1,x2); x<=Math.max(x1,x2); x++){
                    grid[x][y1]++;
                }
            }
        }
        int count = 0;
        for(var line : grid){
            for(int i : line){
                if(i>=2)count++;
            }
        }
        System.out.println(count);
        System.out.println("Part two");
        for(String line : input.split("\n")){
            String[] splt = line.split(" \\-\\> ");
            String[] from = splt[0].split(",");
            String[] to = splt[1].split(",");
            int x1 = Integer.parseInt(from[0]);
            int y1 = Integer.parseInt(from[1]);
            int x2 = Integer.parseInt(to[0]);
            int y2 = Integer.parseInt(to[1]);
            if(x1!=x2&&y1!=y2){
                int dist = Math.abs(x2-x1);
                int dx = (x2-x1)/dist;
                int dy = (y2-y1)/dist;
                for(int i = 0; i<=dist; i++){
                    grid[x1+i*dx][y1+i*dy]++;
                }
            }
        }
        count = 0;
        for(var line : grid){
            for(int i : line){
                if(i>=2)count++;
            }
        }
        System.out.println(count);
    }
}